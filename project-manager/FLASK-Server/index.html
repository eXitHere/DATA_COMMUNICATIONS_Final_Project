<!doctype html>
<head>
  <script src="http://code.jquery.com/jquery-latest.js"></script>
  <script>
    var source = new EventSource('/stream');
    source.onmessage = function(e) {
      document.getElementById("textarea1").innerHTML += e.data + "&#13;&#10;"
    }
  </script>
  <script>
    function send() {
      var raw = JSON.stringify({"data": document.getElementById("input1").value});
      document.getElementById("input1").value = "";
      console.log(raw)
      var requestOptions = {
        method: 'POST',
        headers: {"Content-Type": "application/json"},
        body: raw,
        redirect: 'follow'
      };
      fetch("http://192.168.1.15:5000/senddata", requestOptions)
      .then(response => response.text())
      .then(result => console.log(result))
      .catch(error => console.log('error', error));
    }
  </script>
</head>
<body>
  <div>
    <h1>
      Arduino 1
    </h1>
    <div>
      <h4>Send Serial Message: </h4><input type="textbox" id='input1'> <button type="button" onclick="send()">send</button>
    </div>
    <div>
      </div>
      <h4>Receive Serial Messages: </h4><textarea id='textarea1' rows="50" cols="50" ></textarea>
    </div>
    
  </div>
</body>